<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>二零二六 · 丙午御马灵签</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Long+Cang&family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body { background-color: #1a0202; margin: 0; overflow: hidden; }
        .writing-vertical { writing-mode: vertical-rl; }
        @keyframes cardShow {
            from { transform: translateY(50px) scale(0.9); opacity: 0; filter: blur(10px); }
            to { transform: translateY(0) scale(1); opacity: 1; filter: blur(0); }
        }
        @keyframes textReveal {
            from { transform: translateY(-15px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .font-ma { font-family: 'Ma Shan Zheng', cursive; }
        .font-long { font-family: 'Long Cang', cursive; }
        .font-noto { font-family: 'Noto Serif SC', serif; }
        .bg-glow {
            background: radial-gradient(circle at 50% 40%, #3d0a0a 0%, #0a0101 100%);
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        function App() {
            const [stage, setStage] = useState('idle');
            const [currentFortune, setCurrentFortune] = useState(null);

            // 广谱正向签文库（22条，全部为正向祝愿，老少皆宜）
            const fortunes = [
                { type: "大吉", head: "龙马精神", poem: ["神采奕奕", "身康泰", "岁月常青", "永无忧"], seal: "身体康健" },
                { type: "上吉", head: "一马当先", poem: ["锐意进取", "事竟成", "勇冠群伦", "创辉煌"], seal: "事业有成" },
                { type: "大吉", head: "马到功成", poem: ["旗开得胜", "心愿遂", "好消息来", "喜盈门"], seal: "万事胜意" },
                { type: "特等", head: "万象更新", poem: ["春回大地", "生机发", "锦绣前程", "步步升"], seal: "平安顺遂" },
                { type: "上吉", head: "御马祥风", poem: ["惠风和畅", "心宽广", "左右逢源", "遇知音"], seal: "贵人相助" },
                { type: "大吉", head: "金马献瑞", poem: ["财源广进", "纳千祥", "富贵荣华", "满堂红"], seal: "生活美满" },
                { type: "上吉", head: "快马加鞭", poem: ["时不我待", "追美梦", "一往无前", "达彼岸"], seal: "志在必得" },
                { type: "大吉", head: "一马平川", poem: ["坦途万里", "无坎坷", "顺心如意", "笑颜开"], seal: "一帆风顺" },
                { type: "特等", head: "天马行空", poem: ["才思泉涌", "灵感现", "出类拔萃", "誉满城"], seal: "金榜题名" },
                { type: "上吉", head: "马跃檀溪", poem: ["遇难成祥", "呈大利", "转危为安", "纳福泽"], seal: "逢凶化吉" },
                { type: "大吉", head: "策马争春", poem: ["不负韶华", "争朝夕", "春光无限", "满园馨"], seal: "春风得意" },
                { type: "大吉", head: "驷马高门", poem: ["家族兴旺", "代代贤", "门庭赫奕", "享太平"], seal: "家和万事兴" },
                { type: "上吉", head: "老马识途", poem: ["从容笃定", "明方向", "行稳致远", "乐逍遥"], seal: "心态平和" },
                { type: "大吉", head: "马不停蹄", poem: ["勤耕厚积", "终有成", "前路坦荡", "放光明"], seal: "天道酬勤" },
                { type: "特等", head: "龙马呈祥", poem: ["龙年余庆", "接马岁", "福寿康宁", "共长久"], seal: "岁岁平安" },
                { type: "大吉", head: "跃马扬名", poem: ["声名远播", "受人敬", "广结良缘", "德馨香"], seal: "众望所归" },
                { type: "上吉", head: "马行万里", poem: ["开阔眼界", "长见识", "游历四海", "心自由"], seal: "行万里路" },
                { type: "大吉", head: "汗马功劳", poem: ["辛勤付出", "得嘉奖", "功成名就", "贺词多"], seal: "名利双收" },
                { type: "特等", head: "御马生辉", poem: ["光彩夺目", "运势红", "好运常伴", "永辉煌"], seal: "吉星高照" },
                { type: "大吉", head: "鲜衣怒马", poem: ["保持热爱", "赴山海", "赤子之心", "胜从前"], seal: "初心不改" },
                { type: "上吉", head: "马鸣春晓", poem: ["喜报频传", "迎曙光", "新机乍现", "万事兴"], seal: "未来可期" },
                { type: "大吉", head: "金马衔花", poem: ["喜事连连", "乐开怀", "美梦成真", "福自来"], seal: "心想事成" }
            ];

            const handleStart = () => {
                setStage('loading');
                setTimeout(() => {
                    const randomFortune = fortunes[Math.floor(Math.random() * fortunes.length)];
                    setCurrentFortune(randomFortune);
                    setStage('result');
                }, 2000);
            };

            return (
                <div className="relative w-full h-screen overflow-hidden bg-glow flex flex-col items-center justify-center">
                    
                    {/* 背景星尘 */}
                    <div className="absolute inset-0 pointer-events-none">
                        {[...Array(30)].map((_, i) => (
                            <div key={i} className="absolute rounded-full bg-[#ffd700] opacity-20 animate-pulse"
                                style={{
                                    width: Math.random() * 2 + 'px',
                                    height: Math.random() * 2 + 'px',
                                    top: Math.random() * 100 + '%',
                                    left: Math.random() * 100 + '%',
                                    animationDelay: Math.random() * 5 + 's'
                                }}>
                            </div>
                        ))}
                    </div>

                    {stage === 'idle' && (
                        <div className="relative z-20 flex flex-col items-center justify-center w-full h-full p-4">
                            <div className="mb-24 text-center">
                                <p className="font-noto text-[0.65rem] tracking-[0.8em] text-[#eebb66]/40 mb-4">ANNO 2026 · 丙午马年</p>
                                <h1 className="font-ma text-7xl text-[#ffd700] tracking-widest drop-shadow-[0_10px_20px_rgba(0,0,0,1)]">万象更新</h1>
                            </div>
                            
                            <div className="relative flex items-center justify-center">
                                <div className="absolute w-44 h-44 rounded-full border border-[#ffd700]/10 animate-[spin_40s_linear_infinite]"></div>
                                <button onClick={handleStart} className="group relative w-28 h-28 flex items-center justify-center transition-all duration-500 hover:scale-110 active:scale-95">
                                    <div className="absolute inset-0 rounded-full bg-gradient-to-br from-[#991b1b] to-[#450a0a] shadow-[0_20px_50px_rgba(0,0,0,0.8)] border border-[#ffd700]/30"></div>
                                    <span className="relative font-long text-5xl text-[#ffd700] mt-1 mr-1">启</span>
                                </button>
                            </div>

                            <div className="mt-28 flex flex-col items-center max-w-xs text-center space-y-4">
                                <div className="w-[1px] h-10 bg-gradient-to-b from-[#ffd700]/30 to-transparent"></div>
                                <p className="font-noto text-[#eebb66]/60 text-xs tracking-[0.5em]">岁序流转 · 万物生光</p>
                                <p className="font-noto text-[#eebb66]/30 text-[0.6rem] tracking-[0.2em] font-light">愿新的一年，每一份热忱皆有回响</p>
                            </div>
                        </div>
                    )}

                    {stage === 'loading' && (
                        <div className="relative z-20 flex flex-col items-center">
                            <div className="font-ma text-[#ffd700]/80 text-2xl animate-pulse tracking-[0.8em] ml-4">祈愿中...</div>
                            <div className="mt-8 w-20 h-[1px] bg-gradient-to-r from-transparent via-[#ffd700]/20 to-transparent"></div>
                        </div>
                    )}

                    {stage === 'result' && currentFortune && (
                        <div className="relative z-50 w-full h-full flex flex-col items-center justify-center p-6" onClick={() => setStage('idle')}>
                            <div className="absolute inset-0 bg-black/95 backdrop-blur-xl -z-10"></div>
                            
                            <div className="relative w-[320px] max-w-full h-[540px] bg-[#fffcf5] shadow-[0_0_100px_rgba(0,0,0,1)] overflow-hidden flex flex-col rounded-sm" style={{animation: 'cardShow 0.8s ease-out'}}>
                                <div className="absolute inset-0 opacity-[0.08] bg-[url('https://www.transparenttextures.com/patterns/natural-paper.png')]"></div>
                                
                                <div className="h-14 flex items-center justify-between px-8 z-10 border-b border-[#8b1a1a]/5">
                                    <span className="font-noto text-[9px] text-[#8b1a1a]/40 tracking-[0.4em]">2026 PROPHECY</span>
                                    <div className="font-ma text-[#8b1a1a]/30 text-xs tracking-widest">丙午岁时</div>
                                </div>

                                <div className="flex-1 flex flex-row-reverse items-center justify-center gap-6 py-6 relative px-8">
                                    {/* 背景装饰文字（减小字号，定位到角落，避免干扰主文字） */}
                                    <div className="absolute left-6 bottom-8 writing-vertical font-long text-lg text-[#8b1a1a]/15 tracking-[0.4em] select-none">岁次丙午·御马平安</div>
                                    
                                    {/* 主诗句 */}
                                    {currentFortune.poem.map((line, idx) => (
                                        <div key={idx} className="writing-vertical font-ma text-4xl text-[#8b1a1a] tracking-[0.3em] leading-tight" style={{animation: `textReveal 0.8s ease-out ${0.2 + idx * 0.2}s forwards`, opacity: 0}}>
                                            {line}
                                        </div>
                                    ))}
                                </div>

                                <div className="h-28 flex items-center justify-between px-10 border-t border-[#8b1a1a]/5 bg-gradient-to-t from-[#8b1a1a]/5 to-transparent z-10">
                                    <div className="flex flex-col">
                                        <span className="font-noto text-[0.6rem] text-[#8b1a1a]/40 tracking-widest mb-1 font-bold uppercase">Fortune</span>
                                        <span className="font-ma text-5xl text-[#b91c1c]">{currentFortune.type}</span>
                                    </div>
                                    <div className="relative w-16 h-16 border-[1.5px] border-[#b91c1c] flex items-center justify-center rotate-[-8deg] shadow-sm">
                                        <div className="absolute inset-[2px] border border-[#b91c1c]/10"></div>
                                        <span className="font-ma text-[13px] text-[#b91c1c] writing-vertical leading-none font-bold text-center px-1 tracking-tighter">{currentFortune.seal}</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div className="mt-12 flex flex-col items-center animate-in fade-in duration-1000 delay-500 opacity-60">
                                <p className="font-noto text-[#eebb66] text-[0.65rem] tracking-[0.4em]">截图保存这份美好的期许</p>
                                <p className="mt-4 font-noto text-[#eebb66] text-[0.5rem] tracking-[0.2em] opacity-40 italic">点击任意处 · 重获感应</p>
                            </div>
                        </div>
                    )}
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

